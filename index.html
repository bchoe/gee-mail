<!DOCTYPE html>
 <html>
  <head>
    <script src="js/mail-generator.js"></script>
    <link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
       /* console.log(geemails);
        console.log(geemails[0].sender);*/
        
        //this loops all data from the JS to the html so that each individual subject,sender,body, and date does not need to be hard coded//

        console.log (geemails.length);
        console.log (geemails[i]);
        
        for(var i = 0; i<geemails.length; i++){
          
          console.log (geemails[i].sender);
          console.log (geemails[i].subject);
          console.log (geemails[i].date);
          console.log (geemails[i].body);

          var soulwrap = document.createElement('div');
          soulwrap.className="email";
          document.body.appendChild(soulwrap);

          var headData = document.createElement('div');
          headData.className = "sender";
          headData.innerHTML = geemails[i].sender;
          soulwrap.appendChild(headData);

          var shouldersData = document.createElement('div');
          shouldersData.className = "subject";
          shouldersData.innerHTML = geemails[i].subject;
          soulwrap.appendChild(shouldersData);

          var kneesData = document.createElement('div');
          kneesData.className = "date";
          kneesData.innerHTML = geemails[i].date;
          soulwrap.appendChild(kneesData);

          var toesData = document.createElement('div');
          toesData.className = "body";
          toesData.innerHTML = geemails[i].body;
          soulwrap.appendChild(toesData);

        }

      var inboxCounter = document.createElement ("div");
      inboxCounter.id ="count"
      inboxCounter.innerHTML = "Be happy!  Someone cares about you alot!: " + geemails.length;
      inbox.appendChild(inboxCounter);

/*      console.log(getNewMessage());
      var newmsg = (getNewMessage);
      
      var senderData= document.createElement('div');
      subjectData.className ="subject";
      subjectData.innerHTML = getNewMessage().subject;
      email.appendChild(subjectData);*/
      
    var emailElements = document.getElementsByClassName('email');
    
    for (var i=0; i<emailElements.length; i++){
      emailElements[i].addEventListener('click', showMessage);
    }

    function showMessage(event){
      var msg = this.querySelectorAll(".body")[0];
      if(msg.style.display === 'none'){
        msg.style.display = 'block';
      }else{
        msg.style.display = 'none';
      }
    }      

      }
      
    
    </script>
  </head>
  <body>
    <div class="container" id="main">
      <h1>My Geemail</h1>
      <div id="inbox"></div>
      <div id="email"></div>
           
  </body>
</html>